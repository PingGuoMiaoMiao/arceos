# Configuration for myqemu custom platform - Physical Address Version

arch = "aarch64"
platform = "myqemu"
package = "axplat-myqemu"
log-level = "info"
# Stack size of each task.
task-stack-size = 0x40000
# Number of timer ticks per second (Hz).
ticks-per-sec = 100

[plat]
# Stack size on bootstrapping. (256K)
boot-stack-size = 0x40000
# Number of CPUs.
cpu-num = 1
# Kernel address space base - 设为物理地址
kernel-aspace-base = "0x4000_0000"
# Kernel address space size.
kernel-aspace-size = "0x800_0000"
# Base physical address of the kernel image.
kernel-base-paddr = 0x4020_0000
# Base virtual address of the kernel image - 也设为物理地址
kernel-base-vaddr = "0x4020_0000"
# Offset of bus address and phys address.
phys-bus-offset = 0
# Base address of the whole physical memory.
phys-memory-base = 0x4000_0000
# Size of the whole physical memory. (128M)
phys-memory-size = 0x800_0000
# Linear mapping offset - 设为 0，表示物理地址 = 虚拟地址
phys-virt-offset = "0x0"

[devices]
# Timer interrupt num.
timer-irq = 30              # uint
# IPI interrupt num
ipi-irq = 1                 # uint
# Base physical address of the PCIe ECAM space.
pci-ecam-base = 0           # uint
# End PCI bus number.
pci-bus-end = 0             # uint
# PCI device memory ranges.
pci-ranges = []             # [(uint, uint)]
# MMIO ranges with format (`base_paddr`, `size`).
mmio-ranges = [
    [0x0900_0000, 0x1000]  # UART
]